<!DOCTYPE html>
<html>
<head>
  <title>Formulário de Compra</title>
</head>
<body>
  <h1>Dados para Realizar a Compra</h1>

  <form id="formularioCompra">
    <label for="nome">Nome:</label>
    <input type="text" id="nome" name="nome" required>

    <label for="email">E-mail:</label>
    <input type="email" id="email" name="email" required>

    <label for="endereco">Endereço:</label>
    <input type="text" id="endereco" name="endereco" required>

    <button type="button" onclick="escolherFormaPagamento()">Escolher Forma de Pagamento</button>

    <div id="dadosFormaPagamento" style="display: none;">
      <label for="formaPagamento">Forma de Pagamento:</label>
      <select id="formaPagamento" name="formaPagamento" onchange="mostrarDadosFormaPagamento()" required>
        <option value="">Selecione uma forma de pagamento</option>
        <option value="credito">Cartão de Crédito</option>
        <option value="debito">Cartão de Débito</option>
        <option value="pix">PIX</option>
      </select>

      <div id="dadosCartaoCredito" style="display: none;">
        <h2>Dados do Cartão de Crédito</h2>
        <label for="numeroCartaoCredito">Número do Cartão de Crédito:</label>
        <input type="text" id="numeroCartaoCredito" name="numeroCartaoCredito">

        <label for="bancoCredito">Banco:</label>
        <input type="text" id="bancoCredito" name="bancoCredito">
      </div>

      <div id="dadosCartaoDebito" style="display: none;">
        <h2>Dados do Cartão de Débito</h2>
        <label for="numeroCartaoDebito">Número do Cartão de Débito:</label>
        <input type="text" id="numeroCartaoDebito" name="numeroCartaoDebito">

        <label for="bancoDebito">Banco:</label>
        <input type="text" id="bancoDebito" name="bancoDebito">
      </div>

      <div id="dadosPix" style="display: none;">
        <h2>Código PIX</h2>
        <label for="codigoPix">Código PIX:</label>
        <input type="text" id="codigoPix" name="codigoPix">
      </div>

      <div id="dadosParcelamento" style="display: none;">
        <h2>Forma de Parcelamento</h2>
        <label for="parcelas">Parcelas:</label>
        <select id="parcelas" name="parcelas">
          <option value="1">1x</option>
          <option value="2">2x</option>
          <option value="3">3x</option>
        </select>
      </div>
    </div>

    <button type="submit">Finalizar Compra</button>
  </form>

  <script>
    function escolherFormaPagamento() {
      var dadosFormaPagamento = document.getElementById("dadosFormaPagamento");
      dadosFormaPagamento.style.display = "block";
    }

    function mostrarDadosFormaPagamento() {
      var formaPagamento = document.getElementById("formaPagamento").value;
      var dadosCartaoCredito = document.getElementById("dadosCartaoCredito");
      var dadosCartaoDebito = document.getElementById("dadosCartaoDebito");
      var dadosPix = document.getElementById("dadosPix");
      var dadosParcelamento = document.getElementById("dadosParcelamento");

      dadosCartaoCredito.style.display = "none";
      dadosCartaoDebito.style.display = "none";
      dadosPix.style.display = "none";
      dadosParcelamento.style.display = "none";

      if (formaPagamento === "credito") {
        dadosCartaoCredito.style.display = "block";
        dadosParcelamento.style.display = "block";
      } else if (formaPagamento === "debito") {
        dadosCartaoDebito.style.display = "block";
      } else if (formaPagamento === "pix") {
        dadosPix.style.display = "block";
      }
    }

    var formularioCompra = document.getElementById("formularioCompra");

    formularioCompra.addEventListener("submit", function(event) {
      event.preventDefault();
      var dadosCompra = new FormData(formularioCompra);
      var formaPagamentoSelecionada = dadosCompra.get("formaPagamento");

      if (formaPagamentoSelecionada) {
        // Simulando o envio dos dados para o e-mail
        alert("Compra realizada com sucesso! Forma de pagamento: " + formaPagamentoSelecionada);

        // Aqui você precisaria enviar os dados para um servidor e processá-los para enviar por e-mail.
        // Por exemplo, usando JavaScript Fetch API ou um formulário de envio POST.

        // Lembre-se que o envio real de e-mails requer um servidor com back-end.
      } else {
        alert("Por favor, selecione uma forma de pagamento.");
      }
    });
  </script>
</body>
</html>
